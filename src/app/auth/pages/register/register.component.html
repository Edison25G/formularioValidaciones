<form
	*ngIf="registerForm"
	[formGroup]="registerForm"
	(ngSubmit)="register()"
	class="w-full sm:w-[500px] bg-white p-4 rounded-xl shadow-2xl h-full"
	autocomplete="off"
>
	<div class="flex justify-center mb-3">
		<img src="assets/img/login.png" width="80" height="80" alt="logo" />
	</div>

	<h1 class="text-xl font-bold text-center mb-4">Registrar Usuario</h1>

	<div class="space-y-6">
		<div>
			<p-floatlabel>
				<input
					id="username"
					name="username"
					pInputText
					formControlName="username"
					class="w-full"
					autocomplete="username"
				/>
				<label for="username">Usuario</label>
			</p-floatlabel>
			<small
				*ngIf="registerForm.get('username')?.touched && registerForm.get('username')?.invalid"
				class="text-red-500"
			></small>
		</div>

		<div>
			<p-floatlabel>
				<input id="email" name="email" pInputText formControlName="email" class="w-full" autocomplete="email" />
				<label for="email">Correo Electrónico</label>
			</p-floatlabel>
			<small
				*ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('required')"
				class="text-red-500"
			></small>
			<small
				*ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('email')"
				class="text-red-500"
			></small>
		</div>

		<div>
			<p-floatlabel>
				<p-password
					inputId="password"
					name="password"
					formControlName="password"
					autocomplete="new-password"
					[toggleMask]="true"
					[feedback]="true"
					inputStyleClass="w-full"
					[style]="{ width: '100%' }"
				></p-password>
				<label for="password">Contraseña</label>
			</p-floatlabel>
			<small
				*ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('required')"
				class="text-red-500"
			></small>
			<small
				*ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('minlength')"
				class="text-red-500"
			>
				Mínimo 6 caracteres
			</small>
		</div>

		<div>
			<p-floatlabel>
				<p-password
					inputId="confirmPassword"
					name="confirmPassword"
					formControlName="confirmPassword"
					autocomplete="new-password"
					[toggleMask]="true"
					[feedback]="false"
					inputStyleClass="w-full"
					[style]="{ width: '100%' }"
				></p-password>
				<label for="confirmPassword">Confirmar Contraseña</label>
			</p-floatlabel>
			<small
				*ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid"
				class="text-red-500"
			></small>
		</div>

		<div>
			<p-button
				type="submit"
				[label]="isLoading ? 'Registrando...' : 'Registrar'"
				[icon]="isLoading ? 'pi pi-spin pi-spinner' : 'pi pi-user-plus'"
				class="w-full"
				[disabled]="isLoading"
			></p-button>
		</div>

		<div>
			<p-divider layout="horizontal" align="center">o</p-divider>
		</div>

		<div class="flex flex-col items-center gap-2 text-sm">
			<div class="flex items-center gap-2">
				¿Ya tienes cuenta?
				<p-button type="button" pButton label="Iniciar Sesión" class="font-bold" routerLink="/auth/login"> </p-button>
			</div>
		</div>
	</div>
</form>
